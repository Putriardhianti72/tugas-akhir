!function(e){e.formatCurrency={},e.formatCurrencyLive={},e.toNumber={},e.asNumber={};var r={colorize:!1,region:"",roundToDecimalPlace:-2,minimumDecimalPlaces:9,eventOnDecimalsEntered:!1,suppressCurrencySymbol:!1,removeTrailingZerosOnDecimal:!1,parseAsFloat:!1},t={decPointCharCodes:[],formatOnBlur:!0,filterKeys:!0,formatOnType:!0},a={region:""},i={region:"",parse:!0,parseType:"Float"};function n(r,t){r||(r={});var a=r;if(""!==(r=e.extend({},t,e.formatCurrency.regions[""],r)).region&&e.extend(r,function(r){var t=e.formatCurrency.regions[r];if(t)return t;if(/(\w+)-(\w+)/g.test(r)){var a=r.replace(/(\w+)-(\w+)/g,"$1");return e.formatCurrency.regions[a]}return null}(r.region),a),r.suppressCurrencySymbol&&(r.symbol="",r.positiveFormat=e.trim(r.positiveFormat.replace("%s","")),r.negativeFormat=e.trim(r.negativeFormat.replace("%s","").replace(" %n","%n"))),r.roundToDecimalPlace>=-1?r.minimumDecimalPlaces=-1==r.roundToDecimalPlace||r.minimumDecimalPlaces>r.roundToDecimalPlace?r.roundToDecimalPlace:r.minimumDecimalPlaces:r.minimumDecimalPlaces=0,r.hasOwnProperty("parseType")&&(r.parseType=function(e){switch(e.toLowerCase()){case"int":return"Int";case"float":return"Float";default:throw"invalid parseType"}}(r.parseType)),r.regexArithmetic=new RegExp("[^\\d\\.\\-]","g"),""===r.symbol)r.regex=new RegExp("[^\\d"+r.decimalSymbol+"-]","g");else{var i=r.symbol.replace("$","\\$").replace(".","\\.");r.regex=new RegExp(i+"|[^\\d"+r.decimalSymbol+"-]","g")}return r.regexGroupDigit=new RegExp("\\"+r.digitGroupSymbol,"g"),r}function o(e,r){if(e.which>=48&&e.which<=57)return!0;if("keypress"==e.type&&e.which==r[0])return-1==e.target.value.indexOf(String.fromCharCode(r[0]));if("keypress"==e.type)return!(!e.ctrlKey||"A"!=e.key.toUpperCase())||(e.which<32||e.which>=33&&e.which<=40||-1!=r[0]&&46==e.which);if("keyup"==e.type){if(e.ctrlKey&&"A"==e.key.toUpperCase())return!1;if(e.which<32||e.which>=33&&e.which<=40)return!1;if(-1!=r[0])switch(e.which){case 78:case r[2]:case r[1]:break;default:return!0}return!1}return!0}e.formatCurrency.regions=[],e.formatCurrency.regions[""]={symbol:"Rp. ",positiveFormat:"%s%n",negativeFormat:"(%s%n)",decimalSymbol:",",digitGroupSymbol:".",groupDigits:!0},e.formatCurrencyLive.setDefaults=function(r){e.extend(t,r)},e.fn.formatCurrencyLive=function(a){return this.each(function(){var i=e(this);if(-2===(a=n(a,e.extend({},r,t,i.data("formatCurrency")?i.data("formatCurrency"):{}))).roundToDecimalPlace?a.decPointCharCodes=[-1,-1,-1]:","==a.decimalSymbol?a.decPointCharCodes=[44,188,110]:a.decPointCharCodes=[46,190,110],i.data("formatCurrency",a),a.filterKeys&&i.off("keypress.formatCurrency").on("keypress.formatCurrency",function(e){o(e,a.decPointCharCodes)||e.preventDefault()}),a.formatOnType){var c=e.extend({},a,{roundToDecimalPlace:-1,removeTrailingZerosOnDecimal:!1});i.off("keyup.formatCurrency").on("keyup.formatCurrency",function(r){o(r,a.decPointCharCodes)&&e(this).formatCurrency(c)})}a.formatOnBlur&&i.on("blur.formatCurrency",function(r){e(this).formatCurrency(a)}),e(this).formatCurrency(a)})},e.formatCurrency.setDefaults=function(t){e.extend(r,t)},e.formatCurrency.setAllDefaults=function(e){for(var n in e)r.hasOwnProperty(n)&&(r[n]=e[n]),t.hasOwnProperty(n)&&(t[n]=e[n]),a.hasOwnProperty(n)&&(a[n]=e[n]),i.hasOwnProperty(n)&&(i[n]=e[n])},e.fn.formatCurrency=function(r,t){return 1==arguments.length&&"string"!=typeof r&&(t=r,r=!1),t=e(this).data("formatCurrency")&&!t?e(this).data("formatCurrency"):t,this.each(function(){var a,i=e(this);a=i[i.is("input, select, textarea")?"val":"html"]();var n=e.getFormattedCurrency(a,t,!0);if(t=n[4],i.data("fcMetadata",{hasDecimals:n[1],originalDecimals:n[2],isPositive:n[3]}),n){var o=e([]);(o=r?e(r):i)[o.is("input, select, textarea")?"val":"html"](n[0]),n[1]&&t.eventOnDecimalsEntered&&n[2].length>0&&o.trigger("decimalsEntered",n[2]),t.colorize&&o.css("color",n[3]?"black":"red")}})},e.getFormattedCurrency=function(e,t,a){if((t=n(t,r)).parseAsFloat){var i=parseFloat(e);e=isNaN(i)?e:i}if((e="string"!=typeof e?e.toString().replace(".",t.decimalSymbol):e).search("\\(")>=0&&(e="-"+e),""===e||"-"===e&&-1===t.roundToDecimalPlace)return a?[e,!1,"",!0,t]:"";e=(e=e.replace(t.symbol,"")).replace(t.regexGroupDigit,""),"."!=t.decimalSymbol&&(e=e.replace(t.decimalSymbol,".")),isNaN(e)&&((""===(e=e.replace(t.regexArithmetic,""))||"-"===e&&-1===t.roundToDecimalPlace)&&(e="0"),isNaN(e)&&(e="0"));var o=e==Math.abs(e);o||!0!==t.disableNegative||(e=0,o=!0);var c=String(e).split("."),l=c.length>1&&t.roundToDecimalPlace>-2,s=l?c[1].toString():"0",m=l||"0"!=s?s:"";if(e=Math.abs(c[0]),e=isNaN(e)?0:e,t.roundToDecimalPlace>=0&&("2"==(s=(s=parseFloat("1."+s)).toFixed(t.roundToDecimalPlace)).substring(0,1)&&(e=Number(e)+1),s=s.substring(2)),e=String(e),t.groupDigits)for(var u=0;u<Math.floor((e.length-(1+u))/3);u++)e=e.substring(0,e.length-(4*u+3))+t.digitGroupSymbol+e.substring(e.length-(4*u+3));(l&&-1==t.roundToDecimalPlace||t.roundToDecimalPlace>0)&&(t.removeTrailingZerosOnDecimal&&(s=s.replace(/0+$/,"")).length<t.minimumDecimalPlaces&&(s=String(s+Array(t.minimumDecimalPlaces+1).join("0")).slice(0,t.minimumDecimalPlaces)),e+=s.length>0?t.decimalSymbol+s:"");var f=o?t.positiveFormat:t.negativeFormat;return f=(f=f.replace(/%s/g,t.symbol)).replace(/%n/g,e),a?[f,l,m,o,t]:f},e.toNumber.setDefaults=function(r){e.extend(a,r)},e.fn.toNumber=function(r){return this.each(function(){var t=e(this).is("input, select, textarea")?"val":"html";e(this)[t](e.toNumber(e(this)[t](),r))})},e.toNumber=function(e,r){return r=n(r,a),e.replace("(","(-").replace(r.regex,"")},e.asNumber.setDefaults=function(r){e.extend(i,r)},e.fn.asNumber=function(r){var t=e(this).is("input, select, textarea")?"val":"html",a=e(this)[t]();return e.asNumber(a,r)},e.asNumber=function(e,r){return r=n(r,i),e=(e=(e=e||"").replace("(","(-")).replace(r.regex,""),r.parse?(0==e.length&&(e="0"),"."!=r.decimalSymbol&&(e=e.replace(r.decimalSymbol,".")),window["parse"+r.parseType](e)):e}}(jQuery);